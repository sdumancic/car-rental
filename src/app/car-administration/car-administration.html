<!-- Main container -->
<div class="relative flex min-h-screen w-full flex-col bg-background-light dark:bg-background-dark">
  <!-- Header -->
  <header class="flex items-center justify-between p-4 pb-2 bg-background-light dark:bg-background-dark border-b border-gray-200 dark:border-gray-800 sticky top-0 z-10">
    <button class="p-2 -ml-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors" (click)="goBack()">
      <span class="material-symbols-outlined text-3xl">menu</span>
    </button>
    <h1 class="text-lg font-bold text-center flex-1">Vehicle Administration</h1>
    <button (click)="onAddVehicle()" class="flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90 transition-colors shadow-lg shadow-primary/30">
      <span class="material-symbols-outlined">add</span>
      <span>Add</span>
    </button>
  </header>

  <!-- Search bar -->
  <div class="px-4 py-3">
    <label class="flex flex-col min-w-40 h-12 w-full">
      <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
        <div class="text-gray-500 dark:text-gray-400 flex border-none bg-zinc-100 dark:bg-zinc-700 items-center justify-center pl-4 rounded-l-lg">
          <span class="material-symbols-outlined">search</span>
        </div>
        <input
          [(ngModel)]="searchQuery"
          class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary border-none bg-zinc-100 dark:bg-zinc-700 h-full placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 rounded-l-none pl-2 text-base font-normal leading-normal"
          placeholder="Search by make, model, year..."
          type="text"
        />
      </div>
    </label>
  </div>

  <!-- Filter buttons -->
  <div class="flex gap-3 p-3 flex-wrap">
    <button class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-zinc-100 dark:bg-zinc-700 pl-4 pr-2 hover:bg-zinc-200 dark:hover:bg-zinc-600 transition-colors">
      <p class="text-zinc-900 dark:text-white text-sm font-medium leading-normal">Make</p>
      <span class="material-symbols-outlined text-zinc-900 dark:text-white">expand_more</span>
    </button>
    <button class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-zinc-100 dark:bg-zinc-700 pl-4 pr-2 hover:bg-zinc-200 dark:hover:bg-zinc-600 transition-colors">
      <p class="text-zinc-900 dark:text-white text-sm font-medium leading-normal">Model</p>
      <span class="material-symbols-outlined text-zinc-900 dark:text-white">expand_more</span>
    </button>
    <input
      type="number"
      placeholder="Year"
      class="h-8 w-24 px-3 rounded-lg bg-zinc-100 dark:bg-zinc-700 border-0 text-zinc-900 dark:text-white placeholder-zinc-500 dark:placeholder-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-primary"
    />
    <button class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-zinc-100 dark:bg-zinc-700 pl-4 pr-2 hover:bg-zinc-200 dark:hover:bg-zinc-600 transition-colors">
      <p class="text-zinc-900 dark:text-white text-sm font-medium leading-normal">Vehicle Type</p>
      <span class="material-symbols-outlined text-zinc-900 dark:text-white">expand_more</span>
    </button>
    <input
      type="number"
      placeholder="Passengers"
      min="1"
      max="20"
      class="h-8 w-32 px-3 rounded-lg bg-zinc-100 dark:bg-zinc-700 border-0 text-zinc-900 dark:text-white placeholder-zinc-500 dark:placeholder-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-primary"
    />
    <input
      type="number"
      placeholder="Doors"
      min="2"
      max="5"
      class="h-8 w-24 px-3 rounded-lg bg-zinc-100 dark:bg-zinc-700 border-0 text-zinc-900 dark:text-white placeholder-zinc-500 dark:placeholder-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-primary"
    />
    <button class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-zinc-100 dark:bg-zinc-700 pl-4 pr-2 hover:bg-zinc-200 dark:hover:bg-zinc-600 transition-colors">
      <p class="text-zinc-900 dark:text-white text-sm font-medium leading-normal">Fuel Type</p>
      <span class="material-symbols-outlined text-zinc-900 dark:text-white">expand_more</span>
    </button>
    <button class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-zinc-100 dark:bg-zinc-700 pl-4 pr-2 hover:bg-zinc-200 dark:hover:bg-zinc-600 transition-colors">
      <p class="text-zinc-900 dark:text-white text-sm font-medium leading-normal">Transmission</p>
      <span class="material-symbols-outlined text-zinc-900 dark:text-white">expand_more</span>
    </button>
  </div>

  <!-- Vehicle list -->
  <div class="flex flex-col gap-y-1 p-4">
    <div
      *ngFor="let vehicle of filteredVehicles()"
      class="flex items-center gap-4 bg-white dark:bg-gray-800 px-4 min-h-[72px] py-2 justify-between rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors">
      <div class="flex items-center gap-4">
        <div
          class="bg-center bg-no-repeat aspect-square bg-cover rounded-lg size-14"
          [style.background-image]="'url(' + vehicle.imageUrl + ')'">
        </div>
        <div class="flex flex-col justify-center">
          <p class="text-zinc-900 dark:text-white text-base font-medium leading-normal line-clamp-1">
            {{ vehicle.make }} {{ vehicle.model }}
          </p>
          <p class="text-gray-500 dark:text-gray-400 text-sm font-normal leading-normal line-clamp-2">
            {{ vehicle.year }} | {{ vehicle.status }}
          </p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <button
          (click)="onEditVehicle(vehicle)"
          class="text-primary text-base font-medium leading-normal hover:text-primary/80 transition-colors">
          Edit
        </button>
        <button
          (click)="onDeleteVehicle(vehicle)"
          class="text-red-500 text-base font-medium leading-normal hover:text-red-600 transition-colors">
          Delete
        </button>
      </div>
    </div>

    <!-- Empty state -->
    <div *ngIf="filteredVehicles().length === 0" class="flex flex-col items-center justify-center py-12 text-center">
      <span class="material-symbols-outlined text-6xl text-gray-400 mb-4">search_off</span>
      <p class="text-gray-500 dark:text-gray-400 text-lg font-medium">No vehicles found</p>
      <p class="text-gray-400 dark:text-gray-500 text-sm mt-2">Try adjusting your search criteria</p>
    </div>
  </div>
</div>
